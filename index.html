<!-- Author: Oseni Ridwan, Email: oddbrushstudio@gmail.com -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GeoViz: Geophysical Profile Analyzer</title>

    <link rel="stylesheet" href="styles.css">

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <!-- Annotation Plugin for K-H axis handling -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0/dist/chartjs-plugin-annotation.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="app-container">
        <aside class="control-panel">
            <div class="header">
                <h1>GeoViz</h1>
                <p>Profile Visualization & Analysis</p>
                <div class="dark-mode-toggle" id="themeToggle" title="Toggle Dark Mode">üåô</div>
            </div>

            <div class="input-section">
                <div class="data-type-selector">
                    <button class="data-type-btn" id="btnResistivity" onclick="setDataType('resistivity')">‚ö° Resistivity</button>
                    <button class="data-type-btn active" id="btnVLF" onclick="setDataType('vlf')">üì° VLF</button>
                </div>

                <!-- RESISTIVITY OPTIONS -->
                <div id="resistivityOptions" class="option-group" style="display: none;">
                    <div class="select-group">
                        <label>Array Configuration:</label>
                        <select id="arrayType" onchange="plotData();">
                            <option value="wenner">Wenner Array</option>
                            <option value="schlumberger">Schlumberger Array</option>
                            <option value="dipole">Dipole-Dipole Array</option>
                        </select>
                    </div>
                    <div class="select-group">
                        <label>Color Palette (Gradients):</label>
                        <select id="resTheme" onchange="plotData()"></select>
                    </div>
                </div>

                <!-- VLF OPTIONS -->
                 <div id="vlfOptions" class="option-group">
                    <div class="select-group">
                        <label>Color Combination:</label>
                        <select id="vlfTheme" onchange="plotData()"></select>
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="khToggle" onchange="plotData()" checked>
                        <label for="khToggle">Apply Karous-Hjelt Filter</label>
                    </div>
                </div>

                <div class="info-box" id="infoBox"></div>

                <textarea id="dataInput" placeholder="Paste data..."></textarea>

                <div class="button-grid">
                    <button class="btn" onclick="loadSampleData()">üß™ Sample</button>
                    <button class="btn" onclick="clearAll()">üóëÔ∏è Clear</button>
                    <button class="btn btn-full" id="plotBtn" onclick="plotData()">üìà Update Chart</button>
                </div>

                <div class="download-options">
                    <select id="formatSelect">
                        <option value="png">PNG Image</option>
                        <option value="jpeg">JPG Image</option>
                    </select>
                    <button class="btn" id="downloadBtn" onclick="downloadChart()" disabled>üì• Export</button>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div id="statsSection" style="display: none">
                <div class="stats" id="statsContainer"></div>
            </div>

            <div class="chart-area" id="chartArea">
                <div id="chartPlaceholder">
                    <div class="icon">üìà</div>
                    <h3>Waiting for Data</h3>
                    <p>Load sample data to see the visualization in action.</p>
                </div>
                <canvas id="resistivityChart" style="display: none;"></canvas>
            </div>
        </main>
    </div>

    <script src="script.js"></script>

</body>
</html>
